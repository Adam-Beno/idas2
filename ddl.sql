-- Generated by Oracle SQL Developer Data Modeler 4.1.5.907
--   at:        2017-12-12 14:49:15 CET
--   site:      Oracle Database 12c
--   type:      Oracle Database 12c




DROP TABLE AUTHOR CASCADE CONSTRAINTS ;

DROP TABLE BOOK CASCADE CONSTRAINTS ;

DROP TABLE CATEGORY CASCADE CONSTRAINTS ;

DROP TABLE DECORATION CASCADE CONSTRAINTS ;

DROP TABLE DECORATION_MOTIVE CASCADE CONSTRAINTS ;

DROP TABLE MOTIVE CASCADE CONSTRAINTS ;

DROP TABLE PAINTER CASCADE CONSTRAINTS ;

DROP TABLE PLACEMENT CASCADE CONSTRAINTS ;

DROP TABLE PRINTER CASCADE CONSTRAINTS ;

DROP TABLE SCAN CASCADE CONSTRAINTS ;

CREATE TABLE AUTHOR
  (
    ID NUMBER (11) GENERATED ALWAYS AS IDENTITY ,
    NAME NVARCHAR2 (255) NOT NULL ,
    SURNAME NVARCHAR2 (255) NOT NULL ,
    NICKNAME NVARCHAR2 (255) NOT NULL ,
    AGE NUMBER (11) NOT NULL ,
    GENRE NVARCHAR2 (255) NOT NULL
  ) ;
ALTER TABLE AUTHOR ADD CONSTRAINT AUTHOR_PK PRIMARY KEY ( ID ) ;


CREATE TABLE BOOK
  (
    ID NUMBER (11) GENERATED ALWAYS AS IDENTITY,
    SIGNATURE NVARCHAR2 (255) NOT NULL ,
    BARCODE NUMBER (11) NOT NULL ,
    NAME NVARCHAR2 (255) NOT NULL ,
    NUMBER_OF_PAGES NUMBER (5) NOT NULL ,
    PLACE_OF_ISSUE NVARCHAR2 (255) NOT NULL ,
    YEAR_OF_ISSUE NUMBER (4) ,
    DESCRIPTION CLOB ,
    LANGUAGE NVARCHAR2 (80) NOT NULL ,
    PERIOD_OF_ISSUE NVARCHAR2 (15) ,
    PRINTER_ID NUMBER (11) NOT NULL ,
    AUTHOR_ID  NUMBER (11) NOT NULL
  ) ;
ALTER TABLE BOOK ADD CONSTRAINT BOOK_PK PRIMARY KEY ( ID ) ;


CREATE TABLE CATEGORY
  (
    ID NUMBER (11) GENERATED ALWAYS AS IDENTITY ,
    NAME NVARCHAR2 (255) NOT NULL ,
    DESCRIPTION CLOB
  ) ;
ALTER TABLE CATEGORY ADD CONSTRAINT CATEGORY_PK PRIMARY KEY ( ID ) ;


CREATE TABLE DECORATION
  (
    ID NUMBER (11) GENERATED ALWAYS AS IDENTITY ,
    NAME NVARCHAR2 (255) NOT NULL ,
    WIDTH  NUMBER (11) NOT NULL ,
    HEIGHT NUMBER (11) NOT NULL ,
    NOTE CLOB ,
    BOOK_ID       NUMBER (11) NOT NULL ,
    DECORATION_ID NUMBER (11) NOT NULL ,
    CATEGORY_ID   NUMBER (11) NOT NULL
  ) ;
ALTER TABLE DECORATION ADD CONSTRAINT DECORATION_PK PRIMARY KEY ( ID ) ;


CREATE TABLE DECORATION_MOTIVE
  (
    DECORATION_ID NUMBER (11) NOT NULL ,
    MOTIVE_ID     NUMBER (11) NOT NULL
  ) ;
ALTER TABLE DECORATION_MOTIVE ADD CONSTRAINT DECORATION_MOTIVE_PK PRIMARY KEY ( DECORATION_ID, MOTIVE_ID ) ;


CREATE TABLE MOTIVE
  (
    ID NUMBER (11) GENERATED ALWAYS AS IDENTITY ,
    NAME NVARCHAR2 (255) NOT NULL ,
    DESCRIPTION CLOB
  ) ;
ALTER TABLE MOTIVE ADD CONSTRAINT MOTIVE_PK PRIMARY KEY ( ID ) ;


CREATE TABLE PAINTER
  (
    ID NUMBER (11) GENERATED ALWAYS AS IDENTITY ,
    NAME NVARCHAR2 (255) NOT NULL ,
    SURNAME NVARCHAR2 (255) NOT NULL ,
    NICKNAME NVARCHAR2 (255) NOT NULL ,
    NOTE CLOB ,
    DECORATION_ID NUMBER (11) NOT NULL
  ) ;
ALTER TABLE PAINTER ADD CONSTRAINT PAINTER_PK PRIMARY KEY ( ID ) ;


CREATE TABLE PLACEMENT
  (
    ID          NUMBER (11) GENERATED ALWAYS AS IDENTITY ,
    X           NUMBER (11) NOT NULL ,
    Y           NUMBER (11) NOT NULL ,
    PAGE_NUMBER NUMBER (11) NOT NULL ,
    NOTE CLOB ,
    DECORATION_ID NUMBER (11) NOT NULL
  ) ;
ALTER TABLE PLACEMENT ADD CONSTRAINT PLACEMENT_PK PRIMARY KEY ( ID ) ;


CREATE TABLE PRINTER
  (
    ID NUMBER (11) GENERATED ALWAYS AS IDENTITY ,
    NAME NVARCHAR2 (255) NOT NULL ,
    SURNAME NVARCHAR2 (255) NOT NULL
  ) ;
ALTER TABLE PRINTER ADD CONSTRAINT PRINTER_PK PRIMARY KEY ( ID ) ;


CREATE TABLE SCAN
  (
    ID NUMBER (11) GENERATED ALWAYS AS IDENTITY ,
    NAME NVARCHAR2 (255) NOT NULL ,
    PHOTO CLOB NOT NULL ,
    NOTE CLOB ,
    DECORATION_ID NUMBER (11) NOT NULL ,
    BOOK_ID       NUMBER (11) NOT NULL
  ) ;
ALTER TABLE SCAN ADD CONSTRAINT SCAN_PK PRIMARY KEY ( ID ) ;


ALTER TABLE BOOK ADD CONSTRAINT BOOK_AUTHOR_FK FOREIGN KEY ( AUTHOR_ID ) REFERENCES AUTHOR ( ID ) ON
DELETE CASCADE ;

ALTER TABLE BOOK ADD CONSTRAINT BOOK_PRINTER_FK FOREIGN KEY ( PRINTER_ID ) REFERENCES PRINTER ( ID ) ON
DELETE CASCADE ;

ALTER TABLE DECORATION ADD CONSTRAINT DECORATION_BOOK_FK FOREIGN KEY ( BOOK_ID ) REFERENCES BOOK ( ID ) ON
DELETE CASCADE ;

ALTER TABLE DECORATION ADD CONSTRAINT DECORATION_CATEGORY_FK FOREIGN KEY ( CATEGORY_ID ) REFERENCES CATEGORY ( ID ) ON
DELETE CASCADE ;

ALTER TABLE DECORATION ADD CONSTRAINT DECORATION_DECORATION_FK FOREIGN KEY ( DECORATION_ID ) REFERENCES DECORATION ( ID ) ON
DELETE CASCADE ;

ALTER TABLE DECORATION_MOTIVE ADD CONSTRAINT FK_ASS_4 FOREIGN KEY ( DECORATION_ID ) REFERENCES DECORATION ( ID ) ON
DELETE CASCADE ;

ALTER TABLE DECORATION_MOTIVE ADD CONSTRAINT FK_ASS_5 FOREIGN KEY ( MOTIVE_ID ) REFERENCES MOTIVE ( ID ) ON
DELETE CASCADE ;

ALTER TABLE PAINTER ADD CONSTRAINT PAINTER_DECORATION_FK FOREIGN KEY ( DECORATION_ID ) REFERENCES DECORATION ( ID ) ON
DELETE CASCADE ;

ALTER TABLE PLACEMENT ADD CONSTRAINT PLACEMENT_DECORATION_FK FOREIGN KEY ( DECORATION_ID ) REFERENCES DECORATION ( ID ) ON
DELETE CASCADE ;

ALTER TABLE SCAN ADD CONSTRAINT SCAN_BOOK_FK FOREIGN KEY ( BOOK_ID ) REFERENCES BOOK ( ID ) ON
DELETE CASCADE ;

ALTER TABLE SCAN ADD CONSTRAINT SCAN_DECORATION_FK FOREIGN KEY ( DECORATION_ID ) REFERENCES DECORATION ( ID ) ON
DELETE CASCADE ;


-- Oracle SQL Developer Data Modeler Summary Report:
--
-- CREATE TABLE                            10
-- CREATE INDEX                             0
-- ALTER TABLE                             21
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
--
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
--
-- REDACTION POLICY                         0
-- TSDP POLICY                              0
--
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
--
-- ERRORS                                   0
-- WARNINGS                                 0
